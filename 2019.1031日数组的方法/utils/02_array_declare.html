<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>数组声明式方法</title>
</head>
<body>
  <script>
    /* 
    自定义实现一组数组声明式方法
      1. map()
      2. reduce()
      3. filter()
      4. find()
      5. findIndex()
      6. every()
      7. some()
    */

    const arr = [1, 3, 6, 9, 15, 19, 16]
   
    // 需求:
    // 1. 产生一个每个元素都比原来大10的新数组
    console.log(arr.map((item,index) => item + 10))
    // 2. 得到所有奇数的和
    console.log(arr.reduce((pre,item,index) => pre + (item%2 === 1?item:0),0))
    // 3. 得到值大于8且下标是偶数位的元素组成的数组
    console.log(arr.filter((item,index) => item>8 && index%2 === 0))
    // 4. 找出一个值大于8且下标是偶数位的元素
    console.log(arr.find((item,index) => item>8 && index%2 === 0 ))
    // 5. 找出一个值大于8且下标是偶数位的元素的下标
    console.log(arr.findIndex((item,index) => item>8 && index%2 === 1))
    // 6. 判断下标为偶数的元素是否都为奇数
    console.log(arr.every((item,index) => index%2 === 0 && item%2 === 1))
    // 7. 判断是否有下标为偶数的元素值为奇数
    console.log(arr.some((item,index) => index%2 === 0 && index%2 ===1))

  
</script>

 
  
<script>
    // 自定义实现一组数组声明式方法


      // 1. map()
Array.prototype.map = function (callback) {
  // 准备一个容器
  const arr = []
    for (let index = 0; index <this.length; index++) {
      // 将生成的新的数组放在容器中
      arr.push(callback(this[index],index))
    }
return arr
}

      // 2. reduce()

      Array.prototype.reduce = function (callback,initValue) {
        // 指定初始值
        let result = initValue
        for (let index = 0; index < this.length; index++) {
          result = callback(result,this[index],index)
          }
          return result
      }


      // 3. filter()

      Array.prototype.filter = function (callback) {
        const arr = []
        for (let index = 0; index < this.length; index++) {
          if (callback(this[index],index)) {
            arr.push(this[index])
          }
          }
        return arr
      }


      // 4. find()
      Array.prototype.find = function (callback) {
        for (let index = 0; index < this.length; index++) {
         if (callback(this[index],index)) {
           return this[index]
         }
           }
           return undefined
      }


      // 5. findIndex()

      Array.prototype.findIndex = function (callback) {
        for (let index = 0; index < this.length; index++) {
          if (callback(this[index],index)) {
            return index
          }
          
        }
        return -1
      }


      // 6. every(),每一个成功才是成功

      Array.prototype.eveny = function (params) {
        for (let index = 0; index < this.length; index++) {
          if (!callback(this[index],index)) {
            return false
          }
           }
        return true
      }


      // 7. some()
      Array.prototype.some = function (callback) {
        for (let index = 0; index < this.length; index++) {
          if (callback(this[index],index)) {
            return true
          }
          
        return false
      }
  </script>
</body>
</html>